#Listing assigned char values
print([ord(x)for x in "Hey"])

#listing values using utf8
print(list("Ğ¿Ñ€Ğ¸Ğ²Ñ–Ñ‚, how are you?ğŸ˜".encode("utf-8")))

text = "ï¼µï¼µï¼µï½ï½‰ï½ƒï½ï½„ï½…!ğ”¥ğ”¢ğ”± ğ”¥ğ”¬ğ”´  ğ”ğ”¯ğ”¢ ğ”¶ğ”¬ğ”². As of Unicode version 15.1, there are 149,878 characters with code points, covering 161 modern and historical scripts, as well as multiple symbol sets. ğ“ğ“˜, ğ•’ğ•ğ•¤ğ•  ğ•œğ•Ÿğ• ğ•¨ğ•Ÿ ğ•’ğ•¤ ğ”¸ğ•£ğ•¥ğ•šğ•—ğ•šğ•”ğ•šğ•’ğ• ğ•€ğ•Ÿğ•¥ğ•–ğ•ğ•ğ•šğ•˜ğ•–ğ•Ÿğ•”ğ•–, ğ•šğ•¤ ğ•’ ğ•“ğ•£ğ•’ğ•Ÿğ•”ğ•™ ğ• ğ•— ğ•”ğ• ğ•ğ•¡ğ•¦ğ•¥ğ•–ğ•£ ğ•¤ğ•”ğ•šğ•–ğ•Ÿğ•”ğ•– ğ••ğ•–ğ••ğ•šğ•”ğ•’ğ•¥ğ•–ğ•• ğ•¥ğ•  ğ•ğ•’ğ•œğ•– ğ•”ğ• ğ•ğ•¡ğ•¦ğ•¥ğ•–ğ•£ğ•¤ ğ•’ğ•Ÿğ•• ğ•¤ğ•ªğ•¤ğ•¥ğ•–ğ•ğ•¤ ğ•¥ğ•™ğ•’ğ•¥ ğ•”ğ•’ğ•Ÿ ğ•“ğ•–ğ•™ğ•’ğ•§ğ•– ğ•”ğ• ğ•ğ•¡ğ•ğ•–ğ•© ğ•šğ•¥ğ•¤ğ•–ğ•ğ•—. ğ“ğ“·ğ“® ğ“¸ğ“¯ ğ“½ğ“±ğ“® ğ“¶ğ“¸ğ“¼ğ“½ ğ“­ğ“²ğ“¼ğ“½ğ“²ğ“·ğ“¬ğ“½ğ“²ğ“¿ğ“® ğ“¯ğ“®ğ“ªğ“½ğ“¾ğ“»ğ“®ğ“¼ ğ“¸ğ“¯ ğ“ªğ“² ğ“²ğ“¼ ğ“²ğ“½ğ“¼ ğ“¬ğ“ªğ“¹ğ“ªğ“«ğ“²ğ“µğ“²ğ“½ğ”‚ ğ“½ğ“¸ ğ“µğ“®ğ“ªğ“»ğ“· ğ“ªğ“·ğ“­ ğ“ªğ“­ğ“ªğ“¹ğ“½ ğ“½ğ“¸ ğ“·ğ“®ğ”€ ğ“¬ğ“±ğ“ªğ“µğ“µğ“®ğ“·ğ“°ğ“®ğ“¼. ğ“ğ“˜ ğ“ªğ“µğ“°ğ“¸ğ“»ğ“²ğ“½ğ“±ğ“¶ğ“¼ ğ“½ğ“®ğ“¬ğ“±ğ“·ğ“¸ğ“µğ“¸ğ“°ğ”‚, ğ“¬ğ“¸ğ“¶ğ“¹ğ“¾ğ“½ğ“®ğ“» ğ“¿ğ“²ğ“¼ğ“²ğ“¸ğ“·, ğ“·ğ“ªğ“½ğ“¾ğ“»ğ“ªğ“µ ğ“µğ“ªğ“·ğ“°ğ“¾ğ“ªğ“°ğ“® ğ“¹ğ“»ğ“¸ğ“¬ğ“®ğ“¼ğ“¼ğ“²ğ“·ğ“°, ğ“ªğ“·ğ“­ ğ“®ğ“¿ğ“®ğ“· ğ“¼ğ“®ğ“·ğ“½ğ“²ğ“¶ğ“®ğ“·ğ“½ ğ“ªğ“·ğ“­ ğ“®ğ“¶ğ“¸ğ“½ğ“²ğ“¸ğ“·ğ“ªğ“µ ğ“®ğ”ğ“¹ğ“»ğ“®ğ“¼ğ“¼ğ“²ğ“¸ğ“·. ğ“£ğ“±ğ“® ğ“¯ğ“¾ğ“½ğ“¾ğ“»ğ“® ğ“¸ğ“¯ ğ“ğ“˜ ğ“²ğ“¼ ğ“¯ğ“ªğ“» ğ“°ğ“»ğ“®ğ“ªğ“½ğ“®ğ“» ğ“¹ğ“»ğ“¸ğ“¬ğ“®ğ“¼ğ“¼ğ“²ğ“·ğ“° ğ“²ğ“·ğ“½ğ“®ğ“µğ“µğ“²ğ“°ğ“®ğ“·ğ“¬ğ“®. ğ“˜ğ“½ ğ“²ğ“·ğ“¬ğ“µğ“¾ğ“­ğ“®ğ“¼ ğ“­ğ“®ğ“¿ğ“®ğ“µğ“¸ğ“¹ğ“²ğ“·ğ“° ğ“ªğ“µğ“°ğ“¸ğ“»ğ“²ğ“½ğ“±ğ“¶ğ“¼, ğ“¿ğ“²ğ“»ğ“½ğ“¾ğ“ªğ“µ ğ“¹ğ“»ğ“®ğ“­ğ“²ğ“¬ğ“½ğ“²ğ“¸ğ“·, ğ“ªğ“·ğ“­ ğ“¬ğ“»ğ“®ğ“ªğ“½ğ“²ğ“¿ğ“²ğ“½ğ”‚.ğ“ğ“¿ğ“®ğ“» ğ“½ğ“±ğ“® ğ“¹ğ“ªğ“¼ğ“½ ğ”‚ğ“®ğ“ªğ“»ğ“¼, ğ“ğ“˜ ğ“±ğ“ªğ“¼ ğ“®ğ”ğ“¬ğ“®ğ“µğ“µğ“®ğ“­ ğ“¼ğ“²ğ“°ğ“·ğ“²ğ“¯ğ“²ğ“¬ğ“ªğ“·ğ“½ğ“µğ”‚, ğ“¼ğ“½ğ“®ğ“®ğ“»ğ“®ğ“­, ğ“ªğ“·ğ“­ ğ“®ğ“¿ğ“®ğ“· ğ“­ğ“»ğ“ªğ“¼ğ“½ğ“²ğ“¬ğ“ªğ“µğ“µğ”‚ ğ“²ğ“¶ğ“¹ğ“»ğ“¸ğ“¿ğ“®ğ“­ ğ“±ğ“¾ğ“¶ğ“ªğ“· ğ“®ğ”ğ“¹ğ“®ğ“»ğ“²ğ“®ğ“·ğ“¬ğ“®. ğ“˜ğ“½'ğ“¼ ğ“ª - this is example of unicode values"
tokens = text.encode("utf-8") # raw bytes
tokens = list(map(int, tokens)) # convert to a list in range 0-255
print('-------------')
print(text)
print('-------------')
print("length: ", len(text))
print('-------------')
print(tokens)
print("length of tokens: ", len(tokens)) #proving that tokens are longer than text
print('-------------')

#Pair bitwyse encoding of tokens 
def getPairs(tokens):
    count = {}
    for pair in zip(tokens, tokens[1:]):
        count[pair] = count.get(pair,0) + 1
    return count

def merge(tokens, pair, newId):
    newIds = []
    i = 0
    while i < len(tokens):
        if i < len(tokens) - 1 and tokens[i] == pair[0] and tokens[i+1] == pair[1]:
            newIds.append(newId)
            i += 2
        else:
            newIds.append(tokens[i])
            i += 1
    return newIds
# --------------------------------------------------------
#merging the most frequent pairs of tokens
new_tokens_number = 280
number_iterations = new_tokens_number - 256
tokens_copy = list(tokens)

merges = {}
for i in range(number_iterations):
    stats = getPairs(tokens_copy)
    pair = max(stats, key=stats.get)
    newId = 256 + i
    print("merging ", pair, " into a new token ", newId)
    tokens_copy = merge(tokens_copy, pair, newId)
    merges[pair] = newId 

print("length of tokens: ", len(merges)) #proving that tokens are longer than text
print('-------------')
